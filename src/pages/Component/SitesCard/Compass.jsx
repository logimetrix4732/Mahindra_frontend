import React, { useEffect } from "react";

function Compass({ size, rotate }) {
  useEffect(() => {
    const needle = document.getElementById("needle");

    // let rotationValue = String(360 - rotate);
    let rotationValue =
      Number(rotate) && Number(rotate) !== -111 ? Number(rotate) : 0;

    needle.style.transformOrigin = "center";
    needle.style.transform = `rotate(${rotationValue}deg)`;
  }, [rotate]);

  return (
    <svg
      width={String(size)}
      height={String(size)}
      viewBox="0 0 316 316"
      fill="none"
      // xmlns="http://www.w3.org/2000/svg"
    >
      <g id="body">
        <circle
          id="Ellipse"
          cx="158"
          cy="158"
          r="154"
          fill="white"
          stroke="#616161"
          // stroke-width="8"
          strokeWidth="8"
        />
        <path
          id="N"
          d="M164.094 53H161.832L153.242 39.8516V53H150.98V35.9375H153.242L161.855 49.1445V35.9375H164.094V53Z"
          fill="black"
        />
        <path
          id="NW"
          d="M65.8047 80H64.4854L59.4746 72.3301V80H58.1553V70.0469H59.4746L64.499 77.751V70.0469H65.8047V80ZM70.2822 76.8623L70.4736 78.1748L70.7539 76.9922L72.7227 70.0469H73.8301L75.751 76.9922L76.0244 78.1953L76.2363 76.8555L77.7812 70.0469H79.1006L76.6875 80H75.4912L73.4404 72.7471L73.2832 71.9883L73.126 72.7471L71 80H69.8037L67.3975 70.0469H68.71L70.2822 76.8623Z"
          fill="black"
        />
        <path
          id="SW"
          d="M61.0879 241.563C59.9622 241.24 59.1419 240.843 58.627 240.374C58.1165 239.9 57.8613 239.317 57.8613 238.624C57.8613 237.84 58.1735 237.193 58.7979 236.683C59.4268 236.168 60.2425 235.91 61.2451 235.91C61.9287 235.91 62.5371 236.042 63.0703 236.307C63.6081 236.571 64.0228 236.936 64.3145 237.4C64.6107 237.865 64.7588 238.373 64.7588 238.925H63.4395C63.4395 238.323 63.248 237.852 62.8652 237.51C62.4824 237.163 61.9424 236.99 61.2451 236.99C60.598 236.99 60.0921 237.134 59.7275 237.421C59.3675 237.703 59.1875 238.098 59.1875 238.604C59.1875 239.009 59.3584 239.353 59.7002 239.636C60.0465 239.914 60.6322 240.169 61.457 240.401C62.2865 240.634 62.9336 240.891 63.3984 241.174C63.8678 241.452 64.2142 241.778 64.4375 242.151C64.6654 242.525 64.7793 242.965 64.7793 243.471C64.7793 244.277 64.4648 244.924 63.8359 245.412C63.207 245.895 62.3662 246.137 61.3135 246.137C60.6299 246.137 59.9919 246.007 59.3994 245.747C58.807 245.483 58.349 245.123 58.0254 244.667C57.7064 244.211 57.5469 243.694 57.5469 243.115H58.8662C58.8662 243.717 59.0872 244.193 59.5293 244.544C59.9759 244.89 60.5706 245.063 61.3135 245.063C62.0062 245.063 62.5371 244.922 62.9062 244.64C63.2754 244.357 63.46 243.972 63.46 243.484C63.46 242.997 63.2891 242.621 62.9473 242.356C62.6055 242.088 61.9857 241.823 61.0879 241.563ZM68.6143 242.862L68.8057 244.175L69.0859 242.992L71.0547 236.047H72.1621L74.083 242.992L74.3564 244.195L74.5684 242.855L76.1133 236.047H77.4326L75.0195 246H73.8232L71.7725 238.747L71.6152 237.988L71.458 238.747L69.332 246H68.1357L65.7295 236.047H67.042L68.6143 242.862Z"
          fill="black"
        />
        <path
          id="SE"
          d="M246.088 241.563C244.962 241.24 244.142 240.843 243.627 240.374C243.117 239.9 242.861 239.317 242.861 238.624C242.861 237.84 243.174 237.193 243.798 236.683C244.427 236.168 245.243 235.91 246.245 235.91C246.929 235.91 247.537 236.042 248.07 236.307C248.608 236.571 249.023 236.936 249.314 237.4C249.611 237.865 249.759 238.373 249.759 238.925H248.439C248.439 238.323 248.248 237.852 247.865 237.51C247.482 237.163 246.942 236.99 246.245 236.99C245.598 236.99 245.092 237.134 244.728 237.421C244.368 237.703 244.188 238.098 244.188 238.604C244.188 239.009 244.358 239.353 244.7 239.636C245.047 239.914 245.632 240.169 246.457 240.401C247.286 240.634 247.934 240.891 248.398 241.174C248.868 241.452 249.214 241.778 249.438 242.151C249.665 242.525 249.779 242.965 249.779 243.471C249.779 244.277 249.465 244.924 248.836 245.412C248.207 245.895 247.366 246.137 246.313 246.137C245.63 246.137 244.992 246.007 244.399 245.747C243.807 245.483 243.349 245.123 243.025 244.667C242.706 244.211 242.547 243.694 242.547 243.115H243.866C243.866 243.717 244.087 244.193 244.529 244.544C244.976 244.89 245.571 245.063 246.313 245.063C247.006 245.063 247.537 244.922 247.906 244.64C248.275 244.357 248.46 243.972 248.46 243.484C248.46 242.997 248.289 242.621 247.947 242.356C247.605 242.088 246.986 241.823 246.088 241.563ZM257.094 241.399H252.78V244.927H257.791V246H251.468V236.047H257.723V237.127H252.78V240.326H257.094V241.399Z"
          fill="black"
        />
        <path
          id="NE"
          d="M249.805 80H248.485L243.475 72.3301V80H242.155V70.0469H243.475L248.499 77.751V70.0469H249.805V80ZM257.762 75.3994H253.448V78.9268H258.459V80H252.136V70.0469H258.391V71.127H253.448V74.3262H257.762V75.3994Z"
          fill="black"
        />
        <path
          id="W"
          d="M34.6602 160.621L34.9883 162.871L35.4688 160.844L38.8438 148.938H40.7422L44.0352 160.844L44.5039 162.906L44.8672 160.609L47.5156 148.938H49.7773L45.6406 166H43.5898L40.0742 153.566L39.8047 152.266L39.5352 153.566L35.8906 166H33.8398L29.7148 148.938H31.9648L34.6602 160.621Z"
          fill="black"
        />
        <path
          id="E"
          d="M285.625 158.113H278.23V164.16H286.82V166H275.98V148.938H286.703V150.789H278.23V156.273H285.625V158.113Z"
          fill="black"
        />
        <path
          id="S"
          d="M157.008 271.395C155.078 270.84 153.672 270.16 152.789 269.355C151.914 268.543 151.477 267.543 151.477 266.355C151.477 265.012 152.012 263.902 153.082 263.027C154.16 262.145 155.559 261.703 157.277 261.703C158.449 261.703 159.492 261.93 160.406 262.383C161.328 262.836 162.039 263.461 162.539 264.258C163.047 265.055 163.301 265.926 163.301 266.871H161.039C161.039 265.84 160.711 265.031 160.055 264.445C159.398 263.852 158.473 263.555 157.277 263.555C156.168 263.555 155.301 263.801 154.676 264.293C154.059 264.777 153.75 265.453 153.75 266.32C153.75 267.016 154.043 267.605 154.629 268.09C155.223 268.566 156.227 269.004 157.641 269.402C159.062 269.801 160.172 270.242 160.969 270.727C161.773 271.203 162.367 271.762 162.75 272.402C163.141 273.043 163.336 273.797 163.336 274.664C163.336 276.047 162.797 277.156 161.719 277.992C160.641 278.82 159.199 279.234 157.395 279.234C156.223 279.234 155.129 279.012 154.113 278.566C153.098 278.113 152.312 277.496 151.758 276.715C151.211 275.934 150.938 275.047 150.938 274.055H153.199C153.199 275.086 153.578 275.902 154.336 276.504C155.102 277.098 156.121 277.395 157.395 277.395C158.582 277.395 159.492 277.152 160.125 276.668C160.758 276.184 161.074 275.523 161.074 274.688C161.074 273.852 160.781 273.207 160.195 272.754C159.609 272.293 158.547 271.84 157.008 271.395Z"
          fill="black"
        />
        <line
          id="Line 1"
          x1="159"
          y1="8"
          x2="159"
          y2="23"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 3"
          x1="23"
          y1="160"
          x2="8"
          y2="160"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 5"
          x1="57.8995"
          y1="65.3137"
          x2="47.2929"
          y2="54.7071"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 7"
          x1="47.2929"
          y1="261.899"
          x2="57.8995"
          y2="251.293"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 8"
          x1="258.293"
          y1="63.8995"
          x2="268.9"
          y2="53.2929"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 6"
          x1="269.899"
          y1="260.314"
          x2="259.293"
          y2="249.707"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 4"
          x1="308"
          y1="157"
          x2="293"
          y2="157"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
        <line
          id="Line 2"
          x1="159"
          y1="293"
          x2="159"
          y2="308"
          stroke="#616161"
          // stroke-width="4"
          strokeWidth="4"
        />
      </g>
      <g id="needle">
        <path
          id="Polygon 1"
          d="M158 68L168 158H157H148L158 68Z"
          // fill="#D50000"
          fill="#4caf50"
        />
        <path
          id="Polygon 2"
          d="M158 248L148 158H159H168L158 248Z"
          // fill="#9E9E9E"
          fill="#bdbdbd"
        />
      </g>
    </svg>
  );
}

Compass.defaultProps = {
  size: "300",
  rotate: 0,
};

export default Compass;
